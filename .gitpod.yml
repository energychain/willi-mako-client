# Gitpod-Konfiguration fÃ¼r Willi-Mako Client SDK
# ErmÃ¶glicht schnellen Einstieg in Marktkommunikation und EDIFACT-Workflows

image: gitpod/workspace-node:latest

tasks:
  - name: Setup & Build
    init: |
      echo "ğŸ“¦ Installiere Dependencies..."
      npm install
      echo "ğŸ”¨ Building Projekt..."
      npm run build
      echo "ğŸ”— Linking CLI globally..."
      npm link
      echo "âœ… Setup abgeschlossen!"
    command: |
      echo ""
      echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
      echo "ğŸ”Œ WILLI-MAKO CLIENT SDK - Gitpod Quickstart"
      echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
      echo ""
      echo "ğŸ“– VollstÃ¤ndige Anleitung: docs/GITPOD_QUICKSTART.md"
      echo ""
      echo "ğŸ” SCHRITT 1: Kostenlos registrieren"
      echo "   ğŸ‘‰ https://stromhaltig.de/app/"
      echo ""
      echo "ğŸ”‘ SCHRITT 2: Authentifizierung einrichten"
      echo "   Option A - Mit E-Mail & Passwort:"
      echo "     export WILLI_MAKO_EMAIL='deine@email.de'"
      echo "     export WILLI_MAKO_PASSWORD='dein-passwort'"
      echo ""
      echo "   Option B - Mit API-Token (im Dashboard generieren):"
      echo "     export WILLI_MAKO_TOKEN='dein-api-token'"
      echo ""
      echo "ğŸ§ª SCHRITT 3: Use Cases testen"
      echo "   willi-mako market-partners search 'Netze BW'  # Kein Login nÃ¶tig!"
      echo "   npm run example:market-search                  # Marktpartner-Demo"
      echo "   npm run example:edifact-analyze                # EDIFACT-Analyse"
      echo "   npm run example:utilmd                         # Lieferantenwechsel"
      echo "   npm run example:mscons                         # ZÃ¤hlerstand-Clearing"
      echo ""
      echo "ğŸ’¡ WEITERE BEFEHLE:"
      echo "   npm run build       - Projekt bauen"
      echo "   npm test            - Tests ausfÃ¼hren"
      echo "   npm run lint        - Code prÃ¼fen"
      echo "   willi-mako --help   - Alle CLI-Befehle anzeigen"
      echo ""
      echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
      echo ""

  - name: Interactive CLI
    openMode: split-right
    command: |
      echo "ğŸ–¥ï¸  Interaktives CLI-Terminal"
      echo ""
      echo "Hier kannst du direkt CLI-Befehle ausfÃ¼hren:"
      echo "  willi-mako --help"
      echo "  willi-mako auth login"
      echo "  willi-mako sessions create --ttl 60"
      echo ""

vscode:
  extensions:
    - dbaeumer.vscode-eslint          # ESLint fÃ¼r Code-QualitÃ¤t
    - esbenp.prettier-vscode          # Prettier fÃ¼r Code-Formatierung
    - ms-vscode.vscode-typescript-next # TypeScript Language Support
    - vitest.explorer                  # Vitest Test Explorer
    - yzhang.markdown-all-in-one      # Markdown-Editor mit Preview
    - streetsidesoftware.code-spell-checker # RechtschreibprÃ¼fung

ports:
  - port: 4173
    onOpen: notify
    description: Web Dashboard (willi-mako serv)
  - port: 7337
    onOpen: notify
    description: MCP Server (willi-mako mcp)

github:
  prebuilds:
    master: true
    branches: true
    pullRequests: true
    pullRequestsFromForks: false
    addCheck: true
    addComment: false
    addBadge: false
